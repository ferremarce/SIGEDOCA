<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="/template.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui">
    <ui:define name="title">
        <h1>Ficha de Inscripción</h1>
    </ui:define>
    <ui:define name="content">
        <h:form id="formMain">
            <p:growl life="5000" globalOnly="true" id="growl1"/> 
            <p:tabView>
                <p:tab title="Datos Personales">
                    <p:panelGrid id="panelDatosPersonales" columns="3" layout="grid" styleClass="ui-panelgrid-blank" columnClasses="ui-grid-col-2,ui-grid-col-8,ui-grid-col-2">
                        <p:outputLabel value="Año de Incorporación:" for="anhoIncorporacion" />
                        <p:inputText id="anhoIncorporacion" value="#{FichaController.ficha.anhoIncorporacion}" title="AnhoIncorporacion" required="true" requiredMessage="#{bundle.Requerido}" />
                        <p:message for="anhoIncorporacion"/>
                        <p:outputLabel value="Apellidos:" for="apellidos" />
                        <p:inputText id="apellidos" value="#{FichaController.ficha.apellidos}" title="Apellidos" required="true" requiredMessage="#{bundle.Requerido}"/>
                        <p:message for="apellidos"/>
                        <p:outputLabel value="Nombres:" for="nombres" />
                        <p:inputText id="nombres" value="#{FichaController.ficha.nombres}" title="Nombres" required="true" requiredMessage="#{bundle.Requerido}"/>
                        <p:message for="nombres"/>
                        <p:outputLabel value="Padre:" for="padre" />
                        <p:inputText id="padre" value="#{FichaController.ficha.padre}" title="Padre" />
                        <p:message for="padre"/>
                        <p:outputLabel value="Madre:" for="madre" />
                        <p:inputText id="madre" value="#{FichaController.ficha.madre}" title="Madre" />
                        <p:message for="madre"/>
                        <p:outputLabel value="Documento de Identidad:" for="ci" />
                        <p:inputText id="ci" value="#{FichaController.ficha.ci}" title="Ci" />
                        <p:message for="ci"/>
                        <p:outputLabel value="Teléfono:" for="telefono" />
                        <p:inputText id="telefono" value="#{FichaController.ficha.telefono}" title="Telefono" />
                        <p:message for="telefono"/>
                        <f:facet name="footer">
                            <p:commandButton ajax="true" partialSubmit="true" process="panelDatosPersonales" icon="fa fa-save" value="#{bundle.GuardarBoton}" update=":formMain:growl1 panelDatosPersonales" action="#{FichaController.doGuardar()}"/>
                        </f:facet>
                    </p:panelGrid>
                </p:tab>
                <p:tab title="Datos del Bautismo">
                    <p:panelGrid id="panelDatosBautismo" columns="3" layout="grid" styleClass="ui-panelgrid-blank" columnClasses="ui-grid-col-2,ui-grid-col-8,ui-grid-col-2">
                        <p:outputLabel value="Parroquia:" for="parroquiaBautismo" />
                        <p:inputText id="parroquiaBautismo" value="#{FichaController.ficha.parroquiaBautismo}" title="ParroquiaBautismo" />
                        <p:message for="parroquiaBautismo"/>
                        <p:outputLabel value="Diocesis:" for="diocesisBautismo" />
                        <p:inputText id="diocesisBautismo" value="#{FichaController.ficha.diocesisBautismo}" title="DiocesisBautismo" />
                        <p:message for="diocesisBautismo"/>
                        <p:outputLabel value="Fecha Nacimiento:" for="fechaNacimiento" />
                        <p:calendar navigator="true"  size="12" id="fechaNacimiento" value="#{FichaController.ficha.fechaNacimiento}" pattern="dd/MM/yyyy" title="Fecha Bautismo" required="true" requiredMessage="#{bundle.Requerido}">
                        </p:calendar>
                        <p:message for="fechaNacimiento"/>
                        <p:outputLabel value="Fecha Bautismo:" for="fechaBautismo" />
                        <p:calendar navigator="true"  size="12" id="fechaBautismo" value="#{FichaController.ficha.fechaBautismo}" pattern="dd/MM/yyyy" title="Fecha Bautismo" required="true" requiredMessage="#{bundle.Requerido}">
                        </p:calendar>
                        <p:message for="fechaBautismo"/>
                        <p:outputLabel value="Libro:" for="libroBautismo" />
                        <p:inputText id="libroBautismo" value="#{FichaController.ficha.libroBautismo}" title="LibroBautismo" />
                        <p:message for="libroBautismo"/>
                        <p:outputLabel value="Folio:" for="folioBautismo" />
                        <p:inputText id="folioBautismo" value="#{FichaController.ficha.folioBautismo}" title="FolioBautismo" />
                        <p:message for="folioBautismo"/>
                        <p:outputLabel value="Padrino:" for="padrinoBautismo" />
                        <p:inputText id="padrinoBautismo" value="#{FichaController.ficha.padrinoBautismo}" title="PadrinoBautismo" />
                        <p:message for="padrinoBautismo"/>
                        <p:outputLabel value="Madrina:" for="madrinaBautismo" />
                        <p:inputText id="madrinaBautismo" value="#{FichaController.ficha.madrinaBautismo}" title="MadrinaBautismo" />
                        <p:message for="madrinaBautismo"/>
                        <p:outputLabel value="Observaciones:" for="observacionesBautismo" />
                        <p:inputTextarea id="observacionesBautismo" value="#{FichaController.ficha.observacionesBautismo}" title="ObservacionesBautismo" />
                        <p:message for="observacionesBautismo"/>
                        <f:facet name="footer">
                            <p:commandButton ajax="true" partialSubmit="true" process="panelDatosBautismo" icon="fa fa-save" value="#{bundle.GuardarBoton}" update=":formMain:growl1 panelDatosBautismo" action="#{FichaController.doGuardar()}"/>
                        </f:facet>
                    </p:panelGrid>
                </p:tab>
                <p:tab title="Proceso de Formación Cristiana">
                    <p:accordionPanel value="#{FichaController.listaFormacionCristiana}" var="item">
                        <p:tab title="#{item.idNivel} - [#{item.idNivel.edad} años]">
                            <p:panelGrid id="panelFormacionCristiana" columns="3" layout="grid" styleClass="ui-panelgrid-blank" columnClasses="ui-grid-col-2,ui-grid-col-8,ui-grid-col-2">
                                <h:outputLabel for="anhoF" value="Año:"/>
                                <p:inputText id="anhoF" value="#{item.anho}" required="true" requiredMessage="#{bundle.Requerido}">
                                    <f:convertNumber type="number" pattern="#,###"/>
                                </p:inputText>
                                <p:message for="anhoF"/>
                                <h:outputLabel for="idCapillaF" value="Capilla:"/>
                                <p:autoComplete id="idCapillaF" dropdown="true" value="#{item.idCapilla}" completeMethod="#{CapillaController.listaAutocompleteCapilla}"
                                                var="capilla" itemLabel="#{capilla.toString()}" itemValue="#{capilla}" forceSelection="true" required="true" requiredMessage="#{bundle.Requerido}"/>
                                <p:message for="idCapillaF"/>
                                <h:outputLabel for="infoParroquia" value="Información Adicional"/>
                                <p:inputTextarea id="infoParroquia" value="#{item.informacionParroquia}"/>
                                <p:message for="infoParroquia"/>
                                <h:outputLabel for="infoResponsable" value="Coordinador/Delegado:"/>
                                <p:inputText id="infoResponsable" value="#{item.responsable}"/>
                                <p:message for="infoResponsable"/>
                                <h:outputLabel for="observacionesResponsable" value="Observaciones:"/>
                                <p:inputTextarea id="observacionesResponsable" value="#{item.observaciones}"/>
                                <p:message for="observacionesResponsable"/>
                                <f:facet name="footer">
                                    <p:commandButton ajax="true" partialSubmit="true" process="panelFormacionCristiana" icon="fa fa-save" value="#{bundle.GuardarBoton}" update=":formMain:growl1 panelFormacionCristiana" action="#{FormacionCristianaController.doGuardar(item)}"/>
                                </f:facet>
                            </p:panelGrid>
                        </p:tab>
                    </p:accordionPanel>
                </p:tab>
                <p:tab title="Datos de Confirmación">

                </p:tab>
            </p:tabView>
        </h:form>
    </ui:define>
    <ui:define name="ajax">
        <ui:include src="/ajax.xhtml"/>
    </ui:define>

</ui:composition>
